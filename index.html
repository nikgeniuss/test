<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLEX - –õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</title>
    <meta name="description" content="FLEX –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞. –¢—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —Ä–∞–∑–≤–∏—Ç–∏–µ, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞.">
    <meta name="keywords" content="flex, –±–∏–∑–Ω–µ—Å —Ä–µ—à–µ–Ω–∏—è, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏">
    <meta name="author" content="–ö–æ–º–ø–∞–Ω–∏—è FLEX">
    <meta property="og:title" content="FLEX - –õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–∞—Å">
    <meta property="og:description" content="–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FLEX - –õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-image: url('image/front.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: rgba(0, 0, 0, 0.4);
            background-blend-mode: overlay;
            transition: background-color 0.3s ease;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            z-index: -2;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        body.image-not-loaded {
            background-image: none;
        }
        
        body.image-not-loaded::before {
            opacity: 1;
        }
        
        .content {
            padding: 30px 20px;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(2px);
        }
        
        h1 {
            font-size: clamp(3rem, 10vw, 7rem);
            margin-bottom: 15px;
            line-height: 1;
            animation: fadeIn 1s ease;
            
            background: linear-gradient(135deg, 
                #FFD700 0%, 
                #FFEC8B 25%, 
                #FFFACD 50%, 
                #FFEC8B 75%, 
                #FFD700 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            
            text-shadow: 
                0 0 10px rgba(255, 215, 0, 0.3),
                0 0 20px rgba(255, 215, 0, 0.2),
                0 0 30px rgba(255, 215, 0, 0.1),
                2px 2px 4px rgba(0, 0, 0, 0.8);
            
            font-weight: 900;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-family: 'Arial Black', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        h1:hover {
            animation: goldGlow 2s infinite alternate;
        }
        
        @keyframes goldGlow {
            from {
                text-shadow: 
                    0 0 10px rgba(255, 215, 0, 0.3),
                    0 0 20px rgba(255, 215, 0, 0.2),
                    0 0 30px rgba(255, 215, 0, 0.1),
                    2px 2px 4px rgba(0, 0, 0, 0.8);
            }
            to {
                text-shadow: 
                    0 0 15px rgba(255, 215, 0, 0.5),
                    0 0 25px rgba(255, 215, 0, 0.4),
                    0 0 35px rgba(255, 215, 0, 0.3),
                    2px 2px 4px rgba(0, 0, 0, 0.8),
                    0 0 40px rgba(255, 215, 0, 0.2);
            }
        }
        
        .description {
            font-size: clamp(1.2rem, 3vw, 2.2rem);
            max-width: 900px;
            margin: 0 auto 20px;
            line-height: 1.6;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
            padding: 0 15px;
            animation: fadeIn 1s ease 0.3s forwards;
            opacity: 0;
            
            color: #FFF8DC;
            font-weight: 300;
            letter-spacing: 1px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –ë–õ–û–ö –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò */
        #auth-section {
            max-width: 500px;
            margin: 0 auto 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            animation: fadeIn 1s ease 0.5s forwards;
            opacity: 0;
        }
        
        #telegram-login-container {
            margin-bottom: 15px;
        }
        
        #user-status {
            display: none;
        }
        
        #user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            margin: 0 auto 10px;
        }
        
        #admin-panel {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            display: none;
        }
        
        .admin-btn {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin: 5px;
        }
        
        .admin-btn.blue {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }
        
        .admin-btn.purple {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
        }
        
        .columns-container {
            display: flex;
            flex-wrap: nowrap;
            justify-content: center;
            align-items: stretch;
            gap: 20px;
            max-width: 1400px;
            width: 100%;
            margin-top: 20px;
        }
        
        .column {
            background: rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 20px;
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            
            opacity: 0;
            transform: translateY(50px);
            animation: fadeInUp 0.8s ease forwards;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .column:nth-child(1) { animation-delay: 0.5s; }
        .column:nth-child(2) { animation-delay: 0.7s; }
        .column:nth-child(3) { animation-delay: 0.9s; }
        
        .column:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.18);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .image-container {
            width: 100%;
            margin-bottom: 20px;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            position: relative;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.1);
            min-height: 200px;
        }
        
        .column:hover .image-container {
            transform: scale(1.03);
        }
        
        .column-image {
            width: 100%;
            height: auto;
            max-height: 300px;
            object-fit: contain;
            object-position: center;
            display: block;
        }
        
        .repair-image {
            width: 80%;
            height: auto;
            max-height: 250px;
            opacity: 0.8;
            filter: brightness(0.9) sepia(0.3) saturate(0.8);
        }
        
        .image-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            z-index: 1;
            opacity: 0;
            transition: opacity 0.3s ease;
            padding: 20px;
            text-align: center;
            pointer-events: none;
        }
        
        .repair-message {
            position: absolute;
            bottom: 10px;
            left: 0;
            width: 100%;
            text-align: center;
            color: #f39c12;
            font-size: 0.9rem;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px;
            border-radius: 0 0 12px 12px;
            z-index: 3;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .image-container.image-not-found::before {
            opacity: 1;
        }
        
        .image-container.image-not-found .repair-message {
            opacity: 1;
        }
        
        .repair-icons {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2;
            display: none;
        }
        
        @keyframes wrenchAnimation {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(30deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-30deg); }
            100% { transform: rotate(0deg); }
        }
        
        @keyframes gearAnimation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .repair-wrench {
            font-size: 3.5rem;
            color: #f39c12;
            margin-bottom: 10px;
            animation: wrenchAnimation 2s infinite;
            filter: drop-shadow(0 0 5px rgba(243, 156, 18, 0.5));
        }
        
        .repair-gear {
            font-size: 2.5rem;
            color: #e74c3c;
            animation: gearAnimation 4s linear infinite;
            filter: drop-shadow(0 0 5px rgba(231, 76, 60, 0.5));
        }
        
        /* –ö–†–£–ì–õ–´–ï –ö–ù–û–ü–ö–ò –° –ö–†–£–ü–ù–´–ú–ò –ò–ö–û–ù–ö–ê–ú–ò */
        .column-button {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 50%;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            font-weight: bold;
            width: 70px;
            height: 70px;
            box-shadow: 0 5px 15px rgba(37, 117, 252, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            flex-shrink: 0;
            text-decoration: none;
        }
        
        .column-button:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 117, 252, 0.6);
            background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
        }
        
        .button-icon {
            width: 36px;
            height: 36px;
            flex-shrink: 0;
        }
        
        @media (max-width: 1200px) {
            .columns-container {
                gap: 15px;
            }
            .column {
                padding: 18px;
            }
            .column-image {
                max-height: 280px;
            }
            .repair-image {
                max-height: 230px;
            }
            .repair-wrench {
                font-size: 3rem;
            }
            .repair-gear {
                font-size: 2.2rem;
            }
            .column-button {
                width: 65px;
                height: 65px;
                padding: 18px;
            }
            .button-icon {
                width: 32px;
                height: 32px;
            }
        }
        
        @media (max-width: 992px) {
            .columns-container {
                gap: 12px;
            }
            .column {
                padding: 16px;
                border-radius: 15px;
            }
            .image-container {
                border-radius: 12px;
                border-width: 2px;
                min-height: 180px;
            }
            .column-image {
                max-height: 250px;
            }
            .repair-image {
                max-height: 200px;
            }
            .repair-wrench {
                font-size: 2.8rem;
            }
            .repair-gear {
                font-size: 2rem;
            }
            .column-button {
                width: 60px;
                height: 60px;
                padding: 16px;
            }
            .button-icon {
                width: 30px;
                height: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: clamp(2.5rem, 8vw, 5rem);
                margin-bottom: 10px;
            }
            
            .description {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }
            
            #auth-section {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .columns-container {
                gap: 10px;
                padding: 0 5px;
            }
            
            .column {
                padding: 14px;
                border-radius: 12px;
                animation-delay: 0.3s !important;
            }
            
            .image-container {
                border-radius: 10px;
                border-width: 2px;
                margin-bottom: 15px;
                min-height: 160px;
            }
            
            .column-image {
                max-height: 220px;
            }
            
            .repair-image {
                max-height: 180px;
            }
            
            .repair-wrench {
                font-size: 2.5rem;
            }
            .repair-gear {
                font-size: 1.8rem;
            }
            
            .column-button {
                width: 55px;
                height: 55px;
                padding: 14px;
                margin-bottom: 15px;
            }
            
            .button-icon {
                width: 28px;
                height: 28px;
            }
            
            body {
                background-attachment: scroll;
            }
        }
        
        @media (max-width: 600px) {
            h1 {
                font-size: clamp(2rem, 7vw, 4rem);
                letter-spacing: 1px;
            }
            
            .column-image {
                max-height: 200px;
            }
            
            .repair-image {
                max-height: 160px;
            }
            
            .repair-wrench {
                font-size: 2.2rem;
            }
            .repair-gear {
                font-size: 1.6rem;
            }
            
            .repair-message {
                font-size: 0.8rem;
            }
            
            .column-button {
                width: 50px;
                height: 50px;
                padding: 12px;
            }
            
            .button-icon {
                width: 26px;
                height: 26px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: clamp(1.8rem, 6vw, 3.5rem);
                margin-bottom: 8px;
            }
            
            .description {
                font-size: 1rem;
                padding: 0 10px;
                margin-bottom: 15px;
            }
            
            .columns-container {
                gap: 8px;
                padding: 0;
            }
            
            .column {
                padding: 12px;
                border-radius: 10px;
            }
            
            .image-container {
                border-radius: 8px;
                border-width: 2px;
                margin-bottom: 12px;
                min-height: 140px;
            }
            
            .column-image {
                max-height: 180px;
            }
            
            .repair-image {
                max-height: 140px;
            }
            
            .repair-wrench {
                font-size: 1.8rem;
            }
            .repair-gear {
                font-size: 1.4rem;
            }
            
            .repair-message {
                font-size: 0.75rem;
            }
            
            .column-button {
                width: 45px;
                height: 45px;
                padding: 10px;
                margin-bottom: 12px;
            }
            
            .button-icon {
                width: 24px;
                height: 24px;
            }
        }
        
        @media (max-width: 400px) {
            h1 {
                font-size: clamp(1.6rem, 5vw, 3rem);
                letter-spacing: 0.5px;
            }
            
            .column {
                padding: 10px;
            }
            
            .image-container {
                border-width: 1px;
                min-height: 120px;
            }
            
            .column-image {
                max-height: 160px;
            }
            
            .repair-image {
                max-height: 120px;
                width: 70%;
            }
            
            .repair-wrench {
                font-size: 1.5rem;
            }
            .repair-gear {
                font-size: 1.2rem;
            }
            
            .column-button {
                width: 40px;
                height: 40px;
                padding: 8px;
            }
            
            .button-icon {
                width: 22px;
                height: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>FLEX</h1>
        <p class="description">–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–∞—Å</p>
        
        <!-- –ë–õ–û–ö –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò -->
        <div id="auth-section">
            <div id="telegram-login-container"></div>
            
            <div id="user-status">
                <div id="user-avatar">üë§</div>
                <p style="margin: 0; font-size: 1.2rem; font-weight: bold;">
                    –ü—Ä–∏–≤–µ—Ç, <span id="user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!
                </p>
                <p id="user-username" style="margin: 5px 0 15px 0; color: #aaa; font-size: 0.9rem;"></p>
                
                <button onclick="logoutUser()" style="
                    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
                    color: white;
                    border: none;
                    padding: 8px 20px;
                    border-radius: 20px;
                    cursor: pointer;
                    font-size: 0.9rem;
                ">
                    <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                </button>
            </div>
            
            <div id="admin-panel">
                <h4 style="color: #FFD700; margin-bottom: 10px; font-size: 1rem;">
                    <i class="fas fa-crown"></i> –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
                </h4>
                
                <button onclick="downloadUsers()" class="admin-btn">
                    <i class="fas fa-download"></i> –ë–∞–∑—É
                </button>
                
                <button onclick="showStats()" class="admin-btn blue">
                    <i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                </button>
                
                <button onclick="showUsersTable()" class="admin-btn purple">
                    <i class="fas fa-users"></i> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                </button>
                
                <div id="stats-container" style="margin-top: 15px; display: none;"></div>
                <div id="users-table-container" style="margin-top: 15px; display: none; overflow-x: auto;"></div>
            </div>
        </div>
        
        <div class="columns-container">
            <div class="column">
                <div class="image-container">
                    <img src="" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ 1" class="column-image">
                    <div class="repair-icons">
                        <i class="fas fa-wrench repair-wrench"></i>
                        <i class="fas fa-cog repair-gear"></i>
                    </div>
                    <div class="repair-message">–ò–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
                </div>
                <a href="https://t.me/–≤–∞—à–∞_–≥—Ä—É–ø–ø–∞_1" class="column-button" target="_blank" onclick="trackTelegramClick(1)">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.06-.2-.07-.06-.17-.04-.24-.02-.1.02-1.69 1.09-4.78 3.2-.45.31-.86.46-1.23.45-.41-.01-1.2-.23-1.79-.42-.72-.23-1.29-.36-1.24-.76.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.28 0 0"/>
                    </svg>
                </a>
            </div>
            
            <div class="column">
                <div class="image-container">
                    <img src="" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ 2" class="column-image">
                    <div class="repair-icons">
                        <i class="fas fa-wrench repair-wrench"></i>
                        <i class="fas fa-cog repair-gear"></i>
                    </div>
                    <div class="repair-message">–ò–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
                </div>
                <a href="https://t.me/–≤–∞—à–∞_–≥—Ä—É–ø–ø–∞_2" class="column-button" target="_blank" onclick="trackTelegramClick(2)">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.06-.2-.07-.06-.17-.04-.24-.02-.1.02-1.69 1.09-4.78 3.2-.45.31-.86.46-1.23.45-.41-.01-1.2-.23-1.79-.42-.72-.23-1.29-.36-1.24-.76.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.28 0 0"/>
                    </svg>
                </a>
            </div>
            
            <div class="column">
                <div class="image-container">
                    <img src="" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ 3" class="column-image">
                    <div class="repair-icons">
                        <i class="fas fa-wrench repair-wrench"></i>
                        <i class="fas fa-cog repair-gear"></i>
                    </div>
                    <div class="repair-message">–ò–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
                </div>
                <a href="https://t.me/–≤–∞—à–∞_–≥—Ä—É–ø–ø–∞_3" class="column-button" target="_blank" onclick="trackTelegramClick(3)">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.06-.2-.07-.06-.17-.04-.24-.02-.1.02-1.69 1.09-4.78 3.2-.45.31-.86.46-1.23.45-.41-.01-1.2-.23-1.79-.42-.72-.23-1.29-.36-1.24-.76.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.28 0 0"/>
                    </svg>
                </a>
            </div>
        </div>
        
        <div id="future-content" style="margin-top: 70px; color: #aaa; font-size: 1.2rem; animation: fadeIn 1s ease 1.2s forwards; opacity: 0;">
            <p></p>
        </div>
    </div>

    <script>
    console.log("–°–∞–π—Ç –∑–∞–≥—Ä—É–∂–µ–Ω!");
    
    const imageFormats = ['jpg', 'jpeg', 'png', 'webp', 'gif', 'svg'];
    const REPAIR_IMAGE_URL = 'https://cdn.pixabay.com/photo/2018/05/18/15/30/web-design-3411373_1280.jpg';
    
    // === –ö–û–ù–§–ò–ì SUPABASE ===
    const SUPABASE_URL = 'https://xxihcevqsnatodummbnj.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh4aWhjZXZxc25hdG9kdW1tYm5qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ4MzA4NzQsImV4cCI6MjA1MDQwNjg3NH0.U2brWcHwsuCWzl2NSe7Kbg_quhk1WYW';
    
    // –¢–≤–æ–π Telegram ID –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ (–Ω–∞–π–¥–∏ —á–µ—Ä–µ–∑ @userinfobot)
    const ADMIN_TELEGRAM_IDS = ['–¢–í–û–ô_TELEGRAM_ID']; // –ó–ê–ú–ï–ù–ò!
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase
    let supabase;
    try {
        supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        console.log('‚úÖ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω');
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ Supabase:', error);
    }
    
    // –°—Å—ã–ª–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ config.json –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è)
    let telegramLinks = [
        'tg://resolve?domain=Ex_Flex',
        'https://t.me/+ef-zedL8qyhkNWYy',
        'https://t.me/–≤–∞—à–∞_–≥—Ä—É–ø–ø–∞_3'
    ];
    
    // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ config.json (—Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏)
    async function loadTelegramLinks() {
        try {
            const response = await fetch('config.json');
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const data = await response.json();
            
            if (data.telegramLinks && Array.isArray(data.telegramLinks)) {
                telegramLinks = data.telegramLinks;
                console.log('Telegram —Å—Å—ã–ª–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ config.json:', telegramLinks);
            } else {
                console.warn('–í config.json –Ω–µ—Ç –º–∞—Å—Å–∏–≤–∞ telegramLinks, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Å—ã–ª–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
            }
            
            return true;
        } catch (error) {
            console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å config.json, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Å—ã–ª–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:', error.message);
            return false;
        }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–∫–æ–≤ –ø–æ Telegram
    function trackTelegramClick(buttonNumber) {
        console.log(`–ö–ª–∏–∫–Ω—É—Ç–∞ –∫–Ω–æ–ø–∫–∞ Telegram ${buttonNumber}`);
        
        // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        if (typeof gtag !== 'undefined') {
            gtag('event', 'telegram_click', {
                'event_category': 'engagement',
                'event_label': `telegram_button_${buttonNumber}`,
                'value': 1
            });
        }
        
        // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        setTimeout(() => {
            const link = telegramLinks[buttonNumber - 1];
            console.log(`–ü–µ—Ä–µ—Ö–æ–¥ –≤ Telegram –≥—Ä—É–ø–ø—É ${buttonNumber}: ${link}`);
        }, 100);
        
        return true;
    }
    
    async function checkImageExists(url) {
        try {
            const response = await fetch(url, { method: 'HEAD' });
            return response.ok;
        } catch (error) {
            return false;
        }
    }
    
    async function findImageWithExtensions(baseName, container) {
        const imageElement = container.querySelector('.column-image');
        const repairIcons = container.querySelector('.repair-icons');
        
        for (const format of imageFormats) {
            const url = `image/${baseName}.${format}`;
            
            if (await checkImageExists(url)) {
                console.log(`–ù–∞–π–¥–µ–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞: ${url}`);
                imageElement.src = url;
                return true;
            }
        }
        
        console.log(`–ö–∞—Ä—Ç–∏–Ω–∫–∞ ${baseName} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É —Ä–µ–º–æ–Ω—Ç–∞`);
        imageElement.src = REPAIR_IMAGE_URL;
        imageElement.classList.add('repair-image');
        repairIcons.style.display = 'flex';
        container.classList.add('image-not-found');
        
        imageElement.onerror = function() {
            console.log(`–ó–∞–ø–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Ä–µ–º–æ–Ω—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ ${baseName}`);
            repairIcons.style.display = 'flex';
            container.classList.add('image-not-found');
        };
        
        return false;
    }
    
    async function loadBackgroundImage() {
        console.log("–ü–æ–∏—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...");
        
        for (const format of imageFormats) {
            const url = `image/front.${format}`;
            
            if (await checkImageExists(url)) {
                console.log(`–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ: ${url}`);
                document.body.style.backgroundImage = `url('${url}')`;
                document.body.classList.remove('image-not-loaded');
                return;
            }
        }
        
        console.log("–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏ –≤ –æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ");
        document.body.classList.add('image-not-loaded');
    }
    
    async function loadColumnImages() {
        console.log("–ü–æ–∏—Å–∫ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫...");
        
        const imageContainers = document.querySelectorAll('.image-container');
        
        for (let i = 0; i < imageContainers.length; i++) {
            const container = imageContainers[i];
            const imageNumber = i + 1;
            
            console.log(`–ü–æ–∏—Å–∫ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ ${imageNumber}...`);
            
            const img = container.querySelector('.column-image');
            img.onload = function() {
                console.log(`–ö–∞—Ä—Ç–∏–Ω–∫–∞ ${imageNumber} –∑–∞–≥—Ä—É–∂–µ–Ω–∞: ${this.naturalWidth}px √ó ${this.naturalHeight}px`);
                container.classList.remove('image-not-found');
                container.querySelector('.repair-icons').style.display = 'none';
            };
            
            await findImageWithExtensions(imageNumber, container);
        }
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
    function initTelegramLinks() {
        const buttons = document.querySelectorAll('.column-button');
        buttons.forEach((button, index) => {
            if (index < telegramLinks.length) {
                button.href = telegramLinks[index];
                // –î–æ–±–∞–≤–ª—è–µ–º title –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
                button.title = `–ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram –≥—Ä—É–ø–ø—É ${index + 1}`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ onclick
                button.setAttribute('onclick', `trackTelegramClick(${index + 1})`);
            }
        });
        
        console.log('Telegram —Å—Å—ã–ª–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:', telegramLinks);
    }
    
    // === –¢–ï–õ–ï–ì–†–ê–ú –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø ===
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º Telegram Widget
    function loadTelegramWidget() {
        const container = document.getElementById('telegram-login-container');
        if (!container) return;
        
        container.innerHTML = '';
        
        const script = document.createElement('script');
        script.src = 'https://telegram.org/js/telegram-widget.js?22';
        script.async = true;
        script.setAttribute('data-telegram-login', '–¢–í–û–ô_–ë–û–¢_–Æ–ó–ï–†–ù–ï–ô–ú'); // –ë–µ–∑ @ - –ó–ê–ú–ï–ù–ò!
        script.setAttribute('data-size', 'large');
        script.setAttribute('data-onauth', 'onTelegramAuth');
        script.setAttribute('data-request-access', 'write');
        script.setAttribute('data-radius', '20');
        script.setAttribute('data-userpic', 'true');
        
        container.appendChild(script);
    }
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    window.onTelegramAuth = async function(telegramUser) {
        console.log('üîê Telegram user:', telegramUser);
        
        try {
            showNotification('–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è...', 'info');
            
            // –ü–æ–ª—É—á–∞–µ–º IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const ip = await getIP();
            
            // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è Supabase
            const userData = {
                telegram_id: telegramUser.id,
                first_name: telegramUser.first_name,
                last_name: telegramUser.last_name || '',
                username: telegramUser.username || '',
                photo_url: telegramUser.photo_url || '',
                auth_date: telegramUser.auth_date,
                ip_address: ip
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Supabase
            const savedUser = await saveUserToSupabase(userData);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('flex_user', JSON.stringify({
                ...telegramUser,
                supabase_id: savedUser.id
            }));
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            showUserProfile(telegramUser);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–¥–º–∏–Ω–∞
            checkIfAdmin(telegramUser.id);
            
            showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${telegramUser.first_name}!`, 'success');
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', error);
            showNotification('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message, 'error');
        }
    };
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Supabase
    async function saveUserToSupabase(userData) {
        if (!supabase) {
            throw new Error('Supabase –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω');
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const { data: existingUser } = await supabase
            .from('users')
            .select('*')
            .eq('telegram_id', userData.telegram_id)
            .single();
        
        if (existingUser) {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
            const { data, error } = await supabase
                .from('users')
                .update({
                    last_login: new Date().toISOString(),
                    ip_address: userData.ip_address,
                    login_count: (existingUser.login_count || 0) + 1
                })
                .eq('telegram_id', userData.telegram_id)
                .select()
                .single();
            
            if (error) throw error;
            return data;
            
        } else {
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ
            const { data, error } = await supabase
                .from('users')
                .insert([{
                    ...userData,
                    created_at: new Date().toISOString(),
                    last_login: new Date().toISOString(),
                    login_count: 1
                }])
                .select()
                .single();
            
            if (error) throw error;
            return data;
        }
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function showUserProfile(user) {
        const statusDiv = document.getElementById('user-status');
        const loginContainer = document.getElementById('telegram-login-container');
        const userName = document.getElementById('user-name');
        const userUsername = document.getElementById('user-username');
        const userAvatar = document.getElementById('user-avatar');
        
        if (userName) {
            userName.textContent = user.first_name;
        }
        
        if (userUsername) {
            userUsername.textContent = user.username ? '@' + user.username : '–ë–µ–∑ username';
        }
        
        if (userAvatar && user.photo_url) {
            userAvatar.innerHTML = `<img src="${user.photo_url}" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">`;
        } else if (userAvatar) {
            const initials = user.first_name ? user.first_name[0].toUpperCase() : 'U';
            userAvatar.innerHTML = initials;
            userAvatar.style.background = getRandomGradient(user.id);
        }
        
        if (statusDiv) statusDiv.style.display = 'block';
        if (loginContainer) loginContainer.style.display = 'none';
    }
    
    // –í—ã—Ö–æ–¥
    function logoutUser() {
        localStorage.removeItem('flex_user');
        
        const statusDiv = document.getElementById('user-status');
        const loginContainer = document.getElementById('telegram-login-container');
        const adminPanel = document.getElementById('admin-panel');
        
        if (statusDiv) statusDiv.style.display = 'none';
        if (loginContainer) {
            loginContainer.style.display = 'block';
            loadTelegramWidget();
        }
        if (adminPanel) adminPanel.style.display = 'none';
        
        showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info');
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∞
    function checkIfAdmin(telegramId) {
        const adminPanel = document.getElementById('admin-panel');
        if (!adminPanel) return;
        
        if (ADMIN_TELEGRAM_IDS.includes(telegramId.toString())) {
            adminPanel.style.display = 'block';
            showNotification('–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', 'success');
        }
    }
    
    // === –ê–î–ú–ò–ù –§–£–ù–ö–¶–ò–ò ===
    
    // –°–∫–∞—á–∞—Ç—å –±–∞–∑—É
    async function downloadUsers() {
        try {
            const { data: users, error } = await supabase
                .from('users')
                .select('*')
                .order('created_at', { ascending: false });
            
            if (error) throw error;
            
            const dataStr = JSON.stringify(users, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `flex_users_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification(`–ë–∞–∑–∞ —Å–∫–∞—á–∞–Ω–∞ (${users.length} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)`, 'success');
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è:', error);
            showNotification('–û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è', 'error');
        }
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    async function showStats() {
        try {
            const { data: users, error } = await supabase
                .from('users')
                .select('created_at, login_count');
            
            if (error) throw error;
            
            const totalUsers = users.length;
            const today = new Date().toISOString().split('T')[0];
            const todayUsers = users.filter(u => 
                u.created_at.split('T')[0] === today
            ).length;
            
            const totalLogins = users.reduce((sum, user) => 
                sum + (user.login_count || 1), 0
            );
            
            const statsHTML = `
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 10px;">
                    <div style="background: rgba(46, 204, 113, 0.2); padding: 10px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.2rem; color: #2ecc71;">üë•</div>
                        <div style="font-size: 1.1rem; font-weight: bold;">${totalUsers}</div>
                        <div style="font-size: 0.7rem; color: #aaa;">–í—Å–µ–≥–æ</div>
                    </div>
                    
                    <div style="background: rgba(52, 152, 219, 0.2); padding: 10px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.2rem; color: #3498db;">üìà</div>
                        <div style="font-size: 1.1rem; font-weight: bold;">${todayUsers}</div>
                        <div style="font-size: 0.7rem; color: #aaa;">–°–µ–≥–æ–¥–Ω—è</div>
                    </div>
                    
                    <div style="background: rgba(155, 89, 182, 0.2); padding: 10px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.2rem; color: #9b59b6;">üî¢</div>
                        <div style="font-size: 1.1rem; font-weight: bold;">${totalLogins}</div>
                        <div style="font-size: 0.7rem; color: #aaa;">–í—Ö–æ–¥–æ–≤</div>
                    </div>
                </div>
            `;
            
            const container = document.getElementById('stats-container');
            if (container) {
                container.innerHTML = statsHTML;
                container.style.display = 'block';
                document.getElementById('users-table-container').style.display = 'none';
            }
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            showNotification('–û—à–∏–±–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏', 'error');
        }
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    async function showUsersTable() {
        try {
            const { data: users, error } = await supabase
                .from('users')
                .select('*')
                .order('created_at', { ascending: false })
                .limit(10);
            
            if (error) throw error;
            
            let tableHTML = `
                <div style="overflow-x: auto; font-size: 0.8rem;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(255,255,255,0.05);">
                                <th style="padding: 5px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);">ID</th>
                                <th style="padding: 5px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);">–ò–º—è</th>
                                <th style="padding: 5px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);">–î–∞—Ç–∞</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            users.forEach(user => {
                const date = new Date(user.created_at).toLocaleDateString('ru-RU');
                tableHTML += `
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                        <td style="padding: 5px;">${user.telegram_id}</td>
                        <td style="padding: 5px;">${user.first_name}</td>
                        <td style="padding: 5px;">${date}</td>
                    </tr>
                `;
            });
            
            tableHTML += `</tbody></table></div>`;
            
            const container = document.getElementById('users-table-container');
            if (container) {
                container.innerHTML = tableHTML;
                container.style.display = 'block';
                document.getElementById('stats-container').style.display = 'none';
            }
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', error);
            showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏', 'error');
        }
    }
    
    // === –£–¢–ò–õ–ò–¢–´ ===
    
    // –ü–æ–ª—É—á–∏—Ç—å IP
    async function getIP() {
        try {
            const response = await fetch('https://api.ipify.org?format=json');
            const data = await response.json();
            return data.ip;
        } catch {
            return 'unknown';
        }
    }
    
    // –†–∞–Ω–¥–æ–º–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞
    function getRandomGradient(id) {
        const gradients = [
            'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
            'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
            'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
            'linear-gradient(135deg, #fa709a 0%, #fee140 100%)'
        ];
        return gradients[id % gradients.length];
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function checkCurrentUser() {
        const savedUser = localStorage.getItem('flex_user');
        if (savedUser) {
            const user = JSON.parse(savedUser);
            showUserProfile(user);
            checkIfAdmin(user.id);
        }
    }
    
    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.textContent = message;
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'error' ? '#e74c3c' : type === 'success' ? '#2ecc71' : '#3498db'};
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            max-width: 250px;
            word-wrap: break-word;
            font-size: 0.9rem;
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    function initAuth() {
        // –ó–∞–≥—Ä—É–∂–∞–µ–º Telegram Widget
        setTimeout(loadTelegramWidget, 1000);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        checkCurrentUser();
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    }
    
    async function init() {
        console.log("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞...");
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Å—ã–ª–∫–∏ –∏–∑ config.json
        await loadTelegramLinks();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö
        initTelegramLinks();
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        await loadBackgroundImage();
        await loadColumnImages();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
        initAuth();
        
        console.log("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', init);
    
    // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    document.querySelectorAll('.column-image').forEach((img, index) => {
        img.addEventListener('click', function() {
            console.log(`–ö–∞—Ä—Ç–∏–Ω–∫–∞ ${index + 1} –∫–ª–∏–∫–Ω—É—Ç–∞`);
            if (this.classList.contains('repair-image')) {
                alert('–≠—Ç–æ –∑–∞–ø–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è!');
            }
        });
    });
    
    setTimeout(() => {
        document.querySelectorAll('.column').forEach(column => {
            column.style.animation = 'none';
            setTimeout(() => {
                column.style.animation = '';
            }, 10);
        });
    }, 100);
    
    console.log("–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:", imageFormats.join(', '));
    console.log("–ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ 'image' —Å –∏–º–µ–Ω–∞–º–∏:");
    console.log("- front.[—Ñ–æ—Ä–º–∞—Ç] –¥–ª—è —Ñ–æ–Ω–∞");
    console.log("- 1.[—Ñ–æ—Ä–º–∞—Ç], 2.[—Ñ–æ—Ä–º–∞—Ç], 3.[—Ñ–æ—Ä–º–∞—Ç] –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫");
    console.log("–ï—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –û–ë–©–ê–Ø –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Ä–µ–º–æ–Ω—Ç–∞:");
    console.log(REPAIR_IMAGE_URL);
</script>
</body>
</html>
